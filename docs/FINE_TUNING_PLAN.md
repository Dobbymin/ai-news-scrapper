# Fine-tuning êµ¬í˜„ ê³„íš

AI News Traderì˜ ì˜ˆì¸¡ ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•œ Fine-tuning êµ¬í˜„ ê³„íšì„œì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [í˜„ì¬ ìƒíƒœ](#í˜„ì¬-ìƒíƒœ)
3. [Fine-tuningì´ë€?](#fine-tuningì´ë€)
4. [êµ¬í˜„ ë°©ë²•](#êµ¬í˜„-ë°©ë²•)
5. [ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ](#ê¸°ìˆ -ìŠ¤íƒ-ì„ íƒ)
6. [êµ¬í˜„ ë‹¨ê³„](#êµ¬í˜„-ë‹¨ê³„)
7. [ì˜ˆìƒ íš¨ê³¼](#ì˜ˆìƒ-íš¨ê³¼)
8. [ë¹„ìš© ë° ë¦¬ì†ŒìŠ¤](#ë¹„ìš©-ë°-ë¦¬ì†ŒìŠ¤)

---

## ê°œìš”

### ëª©í‘œ

í•™ìŠµëœ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ AI ëª¨ë¸ ìì²´ë¥¼ fine-tuningí•˜ì—¬ ë‰´ìŠ¤ ê°ì„± ë¶„ì„ì˜ ì •í™•ë„ë¥¼ ì§€ì†ì ìœ¼ë¡œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

### í˜„ì¬ vs ëª©í‘œ

| êµ¬ë¶„        | í˜„ì¬ (Few-shot Learning) | ëª©í‘œ (Fine-tuning)        |
| ----------- | ------------------------ | ------------------------- |
| í•™ìŠµ ë°©ì‹   | í”„ë¡¬í”„íŠ¸ì— ì˜ˆì‹œ í¬í•¨     | ëª¨ë¸ ê°€ì¤‘ì¹˜ ì§ì ‘ ì¡°ì •     |
| ì •í™•ë„ í–¥ìƒ | 5-10%                    | 15-30%                    |
| ì‘ë‹µ ì†ë„   | ë™ì¼                     | ë” ë¹ ë¦„ (í”„ë¡¬í”„íŠ¸ ì§§ì•„ì§) |
| ë¹„ìš©        | ë¬´ë£Œ (í”„ë¡¬í”„íŠ¸ë§Œ)        | ìœ ë£Œ (í•™ìŠµ ë¹„ìš©)          |
| ì§€ì†ì„±      | ë§¤ë²ˆ ì˜ˆì‹œ í•„ìš”           | ëª¨ë¸ì— ì˜êµ¬ ë°˜ì˜          |

---

## í˜„ì¬ ìƒíƒœ

### êµ¬í˜„ëœ ê¸°ëŠ¥

âœ… Few-shot Learning

- ì„±ê³µ ì‚¬ë¡€ 3ê°œë¥¼ í”„ë¡¬í”„íŠ¸ì— í¬í•¨
- í•™ìŠµ ë°ì´í„° ê¸°ë°˜ ë™ì  ì˜ˆì‹œ ìƒì„±
- ê¸°ë³¸ ì˜ˆì‹œ fallback ì§€ì›

âœ… í•™ìŠµ ë°ì´í„° ìˆ˜ì§‘

- ì •í™•ë„ ë¡œê·¸ ìë™ ì €ì¥
- ì„±ê³µ/ì‹¤íŒ¨ ì‚¬ë¡€ ë¶„ë¥˜
- í‚¤ì›Œë“œ íŒ¨í„´ ë¶„ì„

### í•œê³„ì 

âŒ í”„ë¡¬í”„íŠ¸ ê¸¸ì´ ì¦ê°€

- Few-shot ì˜ˆì‹œë¡œ ì¸í•œ í† í° ì†Œë¹„ ì¦ê°€
- API ë¹„ìš© ì¦ê°€ ê°€ëŠ¥ì„±

âŒ ì¼ì‹œì  íš¨ê³¼

- ë§¤ ìš”ì²­ë§ˆë‹¤ ì˜ˆì‹œë¥¼ ë‹¤ì‹œ ì „ë‹¬í•´ì•¼ í•¨
- ëª¨ë¸ ìì²´ëŠ” í•™ìŠµë˜ì§€ ì•ŠìŒ

âŒ ì œí•œëœ ì •í™•ë„ í–¥ìƒ

- Few-shotì€ 5-10% ì •ë„ì˜ ê°œì„  íš¨ê³¼
- Fine-tuningì€ 15-30% ê°œì„  ê°€ëŠ¥

---

## Fine-tuningì´ë€?

### ê°œë…

ì‚¬ì „ í•™ìŠµëœ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LLM)ì„ íŠ¹ì • ë„ë©”ì¸ì˜ ë°ì´í„°ë¡œ ì¶”ê°€ í•™ìŠµì‹œì¼œ í•´ë‹¹ ì‘ì—…ì— íŠ¹í™”ëœ ëª¨ë¸ì„ ë§Œë“œëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

### ì‘ë™ ì›ë¦¬

```
ê¸°ë³¸ ëª¨ë¸ (Gemini/GPT)
    â†“
+ ë„ë©”ì¸ ë°ì´í„° (ìš°ë¦¬ì˜ í•™ìŠµ ë°ì´í„°)
    â†“
í•™ìŠµ (ê°€ì¤‘ì¹˜ ì¡°ì •)
    â†“
Fine-tuned ëª¨ë¸ (ë‰´ìŠ¤ ë¶„ì„ íŠ¹í™”)
```

### ì¥ì 

1. **ë†’ì€ ì •í™•ë„**: íŠ¹ì • ì‘ì—…ì— ìµœì í™”
2. **ë¹ ë¥¸ ì‘ë‹µ**: í”„ë¡¬í”„íŠ¸ê°€ ì§§ì•„ì ¸ì„œ ì²˜ë¦¬ ì†ë„ í–¥ìƒ
3. **ì˜êµ¬ í•™ìŠµ**: í•œ ë²ˆ í•™ìŠµí•˜ë©´ ê³„ì† ì‚¬ìš© ê°€ëŠ¥
4. **ì ì€ ì˜ˆì‹œ í•„ìš”**: Few-shot ì˜ˆì‹œ ë¶ˆí•„ìš”

### ë‹¨ì 

1. **ë¹„ìš©**: í•™ìŠµ ë° í˜¸ìŠ¤íŒ… ë¹„ìš© ë°œìƒ
2. **ë°ì´í„° ìš”êµ¬ëŸ‰**: ìµœì†Œ ìˆ˜ë°±~ìˆ˜ì²œ ê°œì˜ ê³ í’ˆì§ˆ ë°ì´í„° í•„ìš”
3. **ê´€ë¦¬ ë³µì¡ë„**: ëª¨ë¸ ë²„ì „ ê´€ë¦¬, ë°°í¬ ì¸í”„ë¼ í•„ìš”

---

## êµ¬í˜„ ë°©ë²•

### 1. í•™ìŠµ ë°ì´í„° ì¤€ë¹„

#### ë°ì´í„° í˜•ì‹

```json
{
  "messages": [
    {
      "role": "system",
      "content": "ë‹¹ì‹ ì€ ê¸ˆìœµ ì‹œì¥ ì „ë¬¸ ë‰´ìŠ¤ ë¶„ì„ê°€ì…ë‹ˆë‹¤."
    },
    {
      "role": "user",
      "content": "ì œëª©: í•œêµ­ì€í–‰ ê¸ˆë¦¬ ì¸í•˜\në³¸ë¬¸: í•œêµ­ì€í–‰ì´ ê¸°ì¤€ê¸ˆë¦¬ë¥¼ 0.25%p ì¸í•˜í–ˆë‹¤..."
    },
    {
      "role": "assistant",
      "content": "{\"sentiment\": \"positive\", \"confidence\": 90, \"keywords\": [\"ê¸ˆë¦¬ ì¸í•˜\"], \"reason\": \"...\"}"
    }
  ]
}
```

#### ë°ì´í„° ìˆ˜ì§‘ ì „ëµ

1. **ì„±ê³µ ì‚¬ë¡€ ìš°ì„ **: ì •í™•ë„ 80% ì´ìƒì¸ ì‚¬ë¡€
2. **ê· í˜• ìœ ì§€**: positive/negative/neutral ë¹„ìœ¨ ê· í˜•
3. **í’ˆì§ˆ ê²€ì¦**: ì‹¤ì œ ì‹œì¥ ê²°ê³¼ì™€ ì¼ì¹˜í•œ ì‚¬ë¡€ë§Œ ì‚¬ìš©
4. **ìµœì†Œ ìˆ˜ëŸ‰**: 500ê°œ ì´ìƒ (ì´ìƒì ìœ¼ë¡œëŠ” 1000ê°œ ì´ìƒ)

#### ë°ì´í„° ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸

```typescript
// src/server/utils/prepare-training-data.ts
export function convertToTrainingFormat(
  learningData: LearningData
): TrainingData[] {
  return learningData.successCases.map(successCase => ({
    messages: [
      {
        role: "system",
        content: "ë‹¹ì‹ ì€ ê¸ˆìœµ ì‹œì¥ ì „ë¬¸ ë‰´ìŠ¤ ë¶„ì„ê°€ì…ë‹ˆë‹¤."
      },
      {
        role: "user",
        content: `ì œëª©: ${successCase.title}\në³¸ë¬¸: ${successCase.content}`
      },
      {
        role: "assistant",
        content: JSON.stringify({
          sentiment: determineSentiment(successCase.investmentIndex),
          confidence: successCase.avgConfidence,
          keywords: successCase.keywords,
          reason: generateReason(successCase)
        })
      }
    ]
  }));
}
```

### 2. Fine-tuning ì‹¤í–‰

#### OpenAI GPT ì‚¬ìš© ì˜ˆì‹œ

```typescript
import OpenAI from "openai";
import fs from "fs";

const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

// 1. í•™ìŠµ ë°ì´í„° ì—…ë¡œë“œ
const file = await openai.files.create({
  file: fs.createReadStream("training-data.jsonl"),
  purpose: "fine-tune",
});

// 2. Fine-tuning ì‘ì—… ì‹œì‘
const fineTune = await openai.fineTuning.jobs.create({
  training_file: file.id,
  model: "gpt-3.5-turbo",
  hyperparameters: {
    n_epochs: 3, // í•™ìŠµ ë°˜ë³µ íšŸìˆ˜
  },
});

// 3. ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§
const job = await openai.fineTuning.jobs.retrieve(fineTune.id);
console.log(job.status); // "validating_files" â†’ "running" â†’ "succeeded"

// 4. Fine-tuned ëª¨ë¸ ì‚¬ìš©
const completion = await openai.chat.completions.create({
  model: fineTune.fine_tuned_model, // "ft:gpt-3.5-turbo:company:model:id"
  messages: [
    { role: "user", content: "ì œëª©: ë¹„íŠ¸ì½”ì¸ ê¸‰ë“±..." }
  ],
});
```

---

## ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ

### ì˜µì…˜ 1: OpenAI GPT-3.5/4 (ê¶Œì¥)

**ì¥ì **

- âœ… ê³µì‹ Fine-tuning API ì§€ì›
- âœ… ë¬¸ì„œí™” ì˜ ë˜ì–´ ìˆìŒ
- âœ… ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤
- âœ… í•œêµ­ì–´ ì§€ì› ìš°ìˆ˜

**ë‹¨ì **

- âŒ ë¹„ìš© ë°œìƒ (í•™ìŠµ: $8/1M tokens, ì¶”ë¡ : 2ë°° ë¹„ìš©)
- âŒ ë°ì´í„°ê°€ OpenAI ì„œë²„ë¡œ ì „ì†¡ë¨

**ì˜ˆìƒ ë¹„ìš©**

- í•™ìŠµ ë¹„ìš©: 1000ê°œ ë°ì´í„° ê¸°ì¤€ ì•½ $10-20
- ì¶”ë¡  ë¹„ìš©: ê¸°ì¡´ ëŒ€ë¹„ 1.5-2ë°°

### ì˜µì…˜ 2: Google Gemini Fine-tuning (í–¥í›„ ì§€ì› ì˜ˆì •)

**ì¥ì **

- âœ… í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ API
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ë¶ˆí•„ìš”

**ë‹¨ì **

- âŒ Fine-tuning API ì•„ì§ ë¯¸ì§€ì›
- âŒ ì§€ì› ì‹œê¸° ë¶ˆëª…í™•

**í˜„ì¬ ìƒíƒœ**: Gemini 1.5ëŠ” context cachingë§Œ ì§€ì›, Fine-tuning ë¯¸ì§€ì›

### ì˜µì…˜ 3: Open Source ëª¨ë¸ (Llama, Mistral ë“±)

**ì¥ì **

- âœ… ì™„ì „í•œ í†µì œê¶Œ
- âœ… ë°ì´í„° í”„ë¼ì´ë²„ì‹œ
- âœ… ì¥ê¸°ì ìœ¼ë¡œ ë¹„ìš© ì ˆê°

**ë‹¨ì **

- âŒ ì¸í”„ë¼ êµ¬ì¶• í•„ìš” (GPU ì„œë²„)
- âŒ ê´€ë¦¬ ë³µì¡ë„ ë†’ìŒ
- âŒ ì´ˆê¸° ë¹„ìš© ë†’ìŒ

**ì˜ˆìƒ ë¹„ìš©**

- GPU ì„œë²„: $0.5-2/hour (í•™ìŠµ ì‹œ)
- ì¶”ë¡  ì„œë²„: $100-500/month

---

## êµ¬í˜„ ë‹¨ê³„

### Phase 1: ë°ì´í„° ìˆ˜ì§‘ ë° ê²€ì¦ (4ì£¼)

- [ ] í•™ìŠµ ë°ì´í„° 500ê°œ ì´ìƒ ìˆ˜ì§‘
- [ ] ë°ì´í„° í’ˆì§ˆ ê²€ì¦ ìë™í™”
- [ ] í•™ìŠµ ë°ì´í„° ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] ë°ì´í„°ì…‹ ë¶„í•  (train: 80%, validation: 10%, test: 10%)

### Phase 2: ì²« Fine-tuning ì‹¤í—˜ (2ì£¼)

- [ ] OpenAI API í‚¤ ë°œê¸‰ ë° ì„¤ì •
- [ ] í•™ìŠµ ë°ì´í„° ì—…ë¡œë“œ
- [ ] Fine-tuning ì‘ì—… ì‹¤í–‰
- [ ] ì„±ëŠ¥ í‰ê°€ (ì •í™•ë„, F1 score ì¸¡ì •)

### Phase 3: í†µí•© ë° ë°°í¬ (2ì£¼)

- [ ] Fine-tuned ëª¨ë¸ API ì—°ë™
- [ ] ê¸°ì¡´ Geminiì™€ ì„±ëŠ¥ ë¹„êµ
- [ ] A/B í…ŒìŠ¤íŠ¸ êµ¬í˜„
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•

### Phase 4: ì§€ì†ì  ê°œì„  (ongoing)

- [ ] ì£¼ê¸°ì  ì¬í•™ìŠµ (ë§¤ì›” ë˜ëŠ” ë°ì´í„° 1000ê°œ ì¶”ê°€ ì‹œ)
- [ ] ì„±ëŠ¥ ì¶”ì  ë° ë¶„ì„
- [ ] í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹
- [ ] ë¹„ìš© ìµœì í™”

---

## ì˜ˆìƒ íš¨ê³¼

### ì •í™•ë„ í–¥ìƒ

```
í˜„ì¬ (Few-shot): 70-75%
    â†“ +10-15%
ëª©í‘œ (Fine-tuning): 80-90%
```

### ì‘ë‹µ ì†ë„ ê°œì„ 

```
í˜„ì¬: 2-3ì´ˆ/ë‰´ìŠ¤ (ê¸´ í”„ë¡¬í”„íŠ¸)
    â†“ 30% ë‹¨ì¶•
ëª©í‘œ: 1.5-2ì´ˆ/ë‰´ìŠ¤ (ì§§ì€ í”„ë¡¬í”„íŠ¸)
```

### ë¹„ìš© ë¶„ì„

**ì´ˆê¸° íˆ¬ì**

- í•™ìŠµ ë¹„ìš©: $10-20 (1íšŒ)
- ê°œë°œ ì‹œê°„: 8ì£¼ (1ëª…)

**ìš´ì˜ ë¹„ìš©**

- ì›” ì¶”ë¡  ë¹„ìš©: $20-50 (ì¼ 100ê°œ ë‰´ìŠ¤ ê¸°ì¤€)
- ì¬í•™ìŠµ ë¹„ìš©: $10-20/ì›”

**ROI**

- ì •í™•ë„ í–¥ìƒìœ¼ë¡œ ë” ë‚˜ì€ íˆ¬ì ì˜ì‚¬ê²°ì •
- ì‚¬ìš©ì ë§Œì¡±ë„ ì¦ê°€
- ì‹ ë¢°ë„ í–¥ìƒ

---

## ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì‚¬ì „ ì¤€ë¹„

- [ ] í•™ìŠµ ë°ì´í„° 500ê°œ ì´ìƒ ìˆ˜ì§‘ ì™„ë£Œ
- [ ] OpenAI API í‚¤ ë°œê¸‰
- [ ] ì˜ˆì‚° ìŠ¹ì¸ ($50-100/ì›”)

### ê°œë°œ í™˜ê²½

- [ ] í•™ìŠµ ë°ì´í„° ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] Fine-tuning ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] ì„±ëŠ¥ í‰ê°€ ë„êµ¬ êµ¬í˜„

### ëª¨ë‹ˆí„°ë§

- [ ] Fine-tuned ëª¨ë¸ ì„±ëŠ¥ ëŒ€ì‹œë³´ë“œ
- [ ] ë¹„ìš© ì¶”ì  ì‹œìŠ¤í…œ
- [ ] ìë™ ì•Œë¦¼ (ì •í™•ë„ ì €í•˜ ì‹œ)

---

## ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ

- [OpenAI Fine-tuning Guide](https://platform.openai.com/docs/guides/fine-tuning)
- [GPT-3.5 Turbo Fine-tuning](https://platform.openai.com/docs/guides/fine-tuning/preparing-your-dataset)
- [Best Practices for Fine-tuning](https://platform.openai.com/docs/guides/fine-tuning/best-practices)

### ê´€ë ¨ ë…¼ë¬¸

- [Fine-Tuning Language Models from Human Preferences](https://arxiv.org/abs/1909.08593)
- [The Power of Scale for Parameter-Efficient Prompt Tuning](https://arxiv.org/abs/2104.08691)

### ìœ ì‚¬ í”„ë¡œì íŠ¸

- [FinGPT: Open-Source Financial Large Language Models](https://github.com/AI4Finance-Foundation/FinGPT)
- [Financial Sentiment Analysis with FinBERT](https://github.com/ProsusAI/finBERT)

---

## ë‹¤ìŒ ë‹¨ê³„

1. **í•™ìŠµ ë°ì´í„° ìˆ˜ì§‘ ê°€ì†í™”**
   - ë§¤ì¼ ì •í™•ë„ ê³„ì‚° ìë™í™”
   - ìµœì†Œ 500ê°œ ë°ì´í„° í™•ë³´

2. **OpenAI API í…ŒìŠ¤íŠ¸**
   - ì†ŒëŸ‰ ë°ì´í„°(100ê°œ)ë¡œ íŒŒì¼ëŸ¿ í…ŒìŠ¤íŠ¸
   - ë¹„ìš© ë° ì„±ëŠ¥ ê²€ì¦

3. **ì„±ëŠ¥ ë¹„êµ í”„ë ˆì„ì›Œí¬ êµ¬ì¶•**
   - Few-shot vs Fine-tuned ëª¨ë¸ ë¹„êµ
   - ì •ëŸ‰ì  ì§€í‘œ ì¸¡ì •

4. **ì˜ˆì‚° ë° ì¼ì • í™•ì •**
   - íˆ¬ì ëŒ€ë¹„ íš¨ê³¼ ë¶„ì„
   - êµ¬í˜„ ìš°ì„ ìˆœìœ„ ê²°ì •

---

**ë¬¸ì„œ ë²„ì „**: 1.0  
**ì‘ì„±ì¼**: 2025-11-02  
**ë‹¤ìŒ ë¦¬ë·°**: í•™ìŠµ ë°ì´í„° 500ê°œ ìˆ˜ì§‘ ì™„ë£Œ ì‹œ
